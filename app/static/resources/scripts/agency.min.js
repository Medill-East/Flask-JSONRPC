/*!
 * Start Bootstrap - Agency v5.1.1 (https://startbootstrap.com/template-overviews/agency)
 * Copyright 2013-2019 Start Bootstrap
 * Licensed under MIT (https://github.com/BlackrockDigital/startbootstrap-agency/blob/master/LICENSE)
 */

! function(o) { "use strict";
    o('a.js-scroll-trigger[href*="#"]:not([href="#"])').click(function() { if (location.pathname.replace(/^\//, "") == this.pathname.replace(/^\//, "") && location.hostname == this.hostname) { var a = o(this.hash); if ((a = a.length ? a : o("[name=" + this.hash.slice(1) + "]")).length) return o("html, body").animate({ scrollTop: a.offset().top - 54 }, 1e3, "easeInOutExpo"), !1 } }), o(".js-scroll-trigger").click(function() { o(".navbar-collapse").collapse("hide") }), o("body").scrollspy({ target: "#mainNav", offset: 56 }); var a = function() { 100 < o("#mainNav").offset().top ? o("#mainNav").addClass("navbar-shrink") : o("#mainNav").removeClass("navbar-shrink") };
    a(), o(window).scroll(a), o(".portfolio-modal").on("show.bs.modal", function(a) { o(".navbar").addClass("d-none") }), o(".portfolio-modal").on("hidden.bs.modal", function(a) { o(".navbar").removeClass("d-none") }) }(jQuery);


//random number
function getRandomInRange(min, max) {
    return Math.floor(Math.random() * (max - min + 1)) + min;
}
//date func
function date() {
    var InY = document.getElementById("u17_input").value;
    var InM = document.getElementById("u18_input").value;
    var InD = document.getElementById("u19_input").value;
    var object = {};
    var params = [];
    var Inputime;
    Inputime = InY + InM + InD;
    var nInY = Number(InY);
    var nInM = Number(InM);
    var nInD = Number(InD);
    if (nInY < 1900 || nInY > 2019)
        alert("请输入正确的年份！");
    if (nInM < 0 || nInM > 12)
        alert("请输入正确的月份！");
    if (nInD < 0 || nInD > 31)
        alert("请输入正确的日期！");

    object["id"] = getRandomInRange(0, 100);
    object["method"] = "comparetime";
    object["jsonrpc"] = "2.0";
    object["params"] = [Inputime];

    var json = JSON.stringify(object);
    $(document).ready(function() {
        $.ajax({
            type: 'POST',
            url: "http://localhost:5000/",
            data: json,
            contentType: 'application/json; charset=UTF-8',

            success: function(data) {
                // console.log(data.result);
                $("#u48_input").text(data.result);
            }
        });
    });
}

//func logical operation
function logical() {
    var In1 = document.getElementById("u27_input").value;
    var In2 = document.getElementById("u28_input").value;
    var Way = document.getElementById("u25_input").value;
    var object = {};
    var params = [];

    var binaryReg = /^[0-1]+$/;
    var decimalReg = /^[0-9]+$/;
    var hexadecimalReg = /^([0-9])|([a-fA-F])/;

    function checkBinary(binary) {
        return binaryReg.test(binary);
    }

    function checkDecimal(decimal) {
        return decimalReg.test(decimal);
    }

    function checkHex(hex) {
        return hexadecimalReg.test(hex);
    }

    object["id"] = getRandomInRange(0, 100);
    object["method"] = "LogicNum";
    object["jsonrpc"] = "2.0";
    object["params"] = [In1, In2, Way]

    if (!checkBinary(In1)) {
        alert("二进制数1输入错误，请检查");
    }
    if (!checkBinary(In2)) {
        alert("二进制数2输入错误，请检查");
    }

    var json = JSON.stringify(object);
    $(document).ready(function() {
        $.ajax({
            type: 'POST',
            url: "http://localhost:5000/",
            data: json,
            contentType: 'application/json; charset=UTF-8',

            success: function(data) {
                $("#u47_input").text(data.result);

            }

        });
    });
}

//fun convertor
function convertor() {
    var Input = document.getElementById("u35_input").value;
    var Isn = document.getElementById("u33_input").value;
    var Osn = document.getElementById("u37_input").value;
    var object = {};
    var params = [];
    var binaryReg = /^[0-1]+$/;
    var decimalReg = /^[0-9]+$/;
    var hexadecimalReg = /^[0-9A-F]+$/i;

    function checkBinary(binary) {
        return binaryReg.test(binary);
    }

    function checkDecimal(decimal) {
        return decimalReg.test(decimal);
    }

    function checkHex(hex) {
        return hexadecimalReg.test(hex);
    }

    object["id"] = getRandomInRange(0, 100);
    object["method"] = "Convert";
    object["jsonrpc"] = "2.0";
    object["params"] = [Input, Isn, Osn]

    if (((Isn == "b") && (!checkBinary(Input))) || ((Isn == "d") && (!checkDecimal(Input))) || ((Isn == "h") && (!checkHex(Input)))) {
        alert("非法输入，请检查");
    }

    var json = JSON.stringify(object);
    $(document).ready(function() {
        $.ajax({
            type: 'POST',
            url: "http://localhost:5000/",
            data: json,
            contentType: 'application/json; charset=UTF-8',

            success: function(data) {
                $("#u36_input").text(data.result);

            }

        });
    });
}

//func cryption
function cryption() {
    var Code = document.getElementById("u43_input").value;
    var Way = document.getElementById("u45_input").value;
    var object = {};
    var params = [];

    object["id"] = getRandomInRange(0, 100);
    object["method"] = "AEScode";
    object["jsonrpc"] = "2.0";
    object["params"] = [Code, Way];

    var json = JSON.stringify(object);
    $(document).ready(function() {
        $.ajax({
            type: 'POST',
            url: "http://localhost:5000/",
            data: json,
            contentType: 'application/json; charset=UTF-8',

            success: function(data) {
                // console.log(data.result);
                if (data.result)
                    $("#u44_input").text(data.result);
                else
                    alert("AES解密失败");
            }
        });
    });
}